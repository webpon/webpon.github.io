import{c as j,a as w,ag as H,ah as O,d as T,u as Y,g as M,ai as K,h as x,aj as q,ak as Q,i as X,al as Z,l as b,am as ee,T as te,a2 as se,A as ne,O as ie,a1 as ae,r as S,B,C as L,J as e,Q as n,S as o,D as t,N as R,W as m,ab as h,ac as k,R as oe,_ as C,an as le,I as re,a8 as ce,ao as ue,P as I,$ as pe,F as W,ap as de,aq as me,ar as V,as as fe,at as ve}from"./index-436a4fc8.js";const he=j([j("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),w("spin-container",{position:"relative"},[w("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[H()])]),w("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),w("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[O("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),w("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),w("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[O("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),ge={small:20,medium:18,large:16},ye=Object.assign(Object.assign({},M.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),be=T({name:"Spin",props:ye,setup(r){const{mergedClsPrefixRef:c,inlineThemeDisabled:s}=Y(r),u=M("Spin","-spin",he,K,r,c),l=x(()=>{const{size:a}=r,{common:{cubicBezierEaseInOut:f},self:g}=u.value,{opacitySpinning:y,color:_,textColor:P}=g,U=typeof a=="number"?q(a):g[Q("size",a)];return{"--n-bezier":f,"--n-opacity-spinning":y,"--n-size":U,"--n-color":_,"--n-text-color":P}}),v=s?X("spin",x(()=>{const{size:a}=r;return typeof a=="number"?String(a):a[0]}),l,r):void 0;return{mergedClsPrefix:c,compitableShow:Z(r,["spinning","show"]),mergedStrokeWidth:x(()=>{const{strokeWidth:a}=r;if(a!==void 0)return a;const{size:f}=r;return ge[typeof f=="number"?"medium":f]}),cssVars:s?void 0:l,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var r,c;const{$slots:s,mergedClsPrefix:u,description:l}=this,v=s.icon&&this.rotate,a=(l||s.description)&&b("div",{class:`${u}-spin-description`},l||((r=s.description)===null||r===void 0?void 0:r.call(s))),f=s.icon?b("div",{class:[`${u}-spin-body`,this.themeClass]},b("div",{class:[`${u}-spin`,v&&`${u}-spin--rotate`],style:s.default?"":this.cssVars},s.icon()),a):b("div",{class:[`${u}-spin-body`,this.themeClass]},b(ee,{clsPrefix:u,style:s.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${u}-spin`}),a);return(c=this.onRender)===null||c===void 0||c.call(this),s.default?b("div",{class:[`${u}-spin-container`,this.themeClass],style:this.cssVars},b("div",{class:[`${u}-spin-content`,this.compitableShow&&`${u}-spin-content--spinning`]},s),b(te,{name:"fade-in-transition"},{default:()=>this.compitableShow?f:null})):f}});function ke(){const r=new Date,c=r.getDate(),s=r.getMonth()+1;return`${r.getFullYear()}-${s}-${c}`}const xe={class:"p-4 space-y-5 min-h-[200px]"},_e={class:"space-y-6"},$e={class:"flex items-center space-x-4"},we={class:"flex-shrink-0 w-[100px]"},Ce={class:"flex-1"},Se={class:"flex items-center space-x-4"},ze={class:"flex-shrink-0 w-[100px]"},Ne={class:"w-[200px]"},Ie={class:"flex items-center space-x-4"},Be={class:"flex-shrink-0 w-[100px]"},Te={class:"flex-1"},Pe={class:"flex-shrink-0 w-[100px]"},Ue={class:"flex flex-wrap items-center gap-4"},De={class:"flex items-center space-x-4"},Re={class:"flex-shrink-0 w-[100px]"},je={class:"flex flex-wrap items-center gap-4"},Oe={class:"flex items-center space-x-4"},Le={class:"flex-shrink-0 w-[100px]"},Ve={class:"flex flex-wrap items-center gap-4"},Me={class:"flex items-center space-x-4"},We={class:"flex-shrink-0 w-[100px]"},Ee=T({__name:"General",setup(r){const c=se(),s=ne(),{isMobile:u}=ie(),l=ae(),v=x(()=>c.theme),a=x(()=>s.userInfo),f=S(a.value.avatar??""),g=S(a.value.name??""),y=S(a.value.description??""),_=x({get(){return c.language},set(i){c.setLanguage(i)}}),P=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],U=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function D(i){s.updateUserInfo(i),l.success(I("common.success"))}function E(){s.resetUserInfo(),l.success(I("common.success")),window.location.reload()}function G(){const i=ke(),p=localStorage.getItem("chatStorage")||"{}",d=JSON.stringify(JSON.parse(p),null,2),$=new Blob([d],{type:"application/json"}),N=URL.createObjectURL($),z=document.createElement("a");z.href=N,z.download=`chat-store_${i}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z)}function F(i){const p=i.target;if(!p||!p.files)return;const d=p.files[0];if(!d)return;const $=new FileReader;$.onload=()=>{try{const N=JSON.parse($.result);localStorage.setItem("chatStorage",JSON.stringify(N)),l.success(I("common.success")),location.reload()}catch{l.error(I("common.invalidFileFormat"))}},$.readAsText(d)}function A(){localStorage.removeItem("chatStorage"),location.reload()}function J(){const i=document.getElementById("fileInput");i&&i.click()}return(i,p)=>(B(),L("div",xe,[e("div",_e,[e("div",$e,[e("span",we,n(i.$t("setting.avatarLink")),1),e("div",Ce,[o(t(R),{value:f.value,"onUpdate:value":p[0]||(p[0]=d=>f.value=d),placeholder:""},null,8,["value"])]),o(t(k),{size:"tiny",text:"",type:"primary",onClick:p[1]||(p[1]=d=>D({avatar:f.value}))},{default:m(()=>[h(n(i.$t("common.save")),1)]),_:1})]),e("div",Se,[e("span",ze,n(i.$t("setting.name")),1),e("div",Ne,[o(t(R),{value:g.value,"onUpdate:value":p[2]||(p[2]=d=>g.value=d),placeholder:""},null,8,["value"])]),o(t(k),{size:"tiny",text:"",type:"primary",onClick:p[3]||(p[3]=d=>D({name:g.value}))},{default:m(()=>[h(n(i.$t("common.save")),1)]),_:1})]),e("div",Ie,[e("span",Be,n(i.$t("setting.description")),1),e("div",Te,[o(t(R),{value:y.value,"onUpdate:value":p[4]||(p[4]=d=>y.value=d),placeholder:""},null,8,["value"])]),o(t(k),{size:"tiny",text:"",type:"primary",onClick:p[5]||(p[5]=d=>D({description:y.value}))},{default:m(()=>[h(n(i.$t("common.save")),1)]),_:1})]),e("div",{class:oe(["flex items-center space-x-4",t(u)&&"items-start"])},[e("span",Pe,n(i.$t("setting.chatHistory")),1),e("div",Ue,[o(t(k),{size:"small",onClick:G},{icon:m(()=>[o(t(C),{icon:"ri:download-2-fill"})]),default:m(()=>[h(" "+n(i.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:F},null,32),o(t(k),{size:"small",onClick:J},{icon:m(()=>[o(t(C),{icon:"ri:upload-2-fill"})]),default:m(()=>[h(" "+n(i.$t("common.import")),1)]),_:1}),o(t(le),{placement:"bottom",onPositiveClick:A},{trigger:m(()=>[o(t(k),{size:"small"},{icon:m(()=>[o(t(C),{icon:"ri:close-circle-line"})]),default:m(()=>[h(" "+n(i.$t("common.clear")),1)]),_:1})]),default:m(()=>[h(" "+n(i.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",De,[e("span",Re,n(i.$t("setting.theme")),1),e("div",je,[(B(),L(re,null,ce(P,d=>o(t(k),{key:d.key,size:"small",type:d.key===t(v)?"primary":void 0,onClick:$=>t(c).setTheme(d.key)},{icon:m(()=>[o(t(C),{icon:d.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",Oe,[e("span",Le,n(i.$t("setting.language")),1),e("div",Ve,[o(t(ue),{style:{width:"140px"},value:t(_),options:U,onUpdateValue:p[6]||(p[6]=d=>t(c).setLanguage(d))},null,8,["value"])])]),e("div",Me,[e("span",We,n(i.$t("setting.resetUserInfo")),1),o(t(k),{size:"small",onClick:E},{default:m(()=>[h(n(i.$t("common.reset")),1)]),_:1})])])]))}}),Ge="chatgpt-web",Fe="2.10.5",Ae="ChatGPT Web",Je="ChenZhaoYu <chenzhaoyu1994@gmail.com>",He=["chatgpt-web","chatgpt","chatbot","vue"],Ye={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},Ke={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.32",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},qe={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.1.4","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},Qe={name:Ge,version:Fe,private:!1,description:Ae,author:Je,keywords:He,scripts:Ye,dependencies:Ke,devDependencies:qe,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},Xe={class:"p-4 space-y-4"},Ze={class:"text-xl font-bold"},et=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[h(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),h(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),tt=T({__name:"About",setup(r){const c=S(!1),s=S();async function u(){try{c.value=!0;const{data:l}=await de();s.value=l}finally{c.value=!1}}return pe(()=>{u()}),(l,v)=>(B(),W(t(be),{show:c.value},{default:m(()=>{var a,f,g,y,_;return[e("div",Xe,[e("h2",Ze," Version - "+n(t(Qe).version),1),et,e("p",null,n(l.$t("setting.api"))+"："+n(((a=s.value)==null?void 0:a.apiModel)??"-"),1),e("p",null,n(l.$t("setting.reverseProxy"))+"："+n(((f=s.value)==null?void 0:f.reverseProxy)??"-"),1),e("p",null,n(l.$t("setting.timeout"))+"："+n(((g=s.value)==null?void 0:g.timeoutMs)??"-"),1),e("p",null,n(l.$t("setting.socks"))+"："+n(((y=s.value)==null?void 0:y.socksProxy)??"-"),1),e("p",null,n(l.$t("setting.httpsProxy"))+"："+n(((_=s.value)==null?void 0:_.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),st={class:"ml-2"},nt={class:"min-h-[100px]"},it={class:"ml-2"},ot=T({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:c}){const s=r,u=S("General"),l=x({get(){return s.visible},set(v){c("update:visible",v)}});return(v,a)=>(B(),W(t(ve),{show:t(l),"onUpdate:show":a[1]||(a[1]=f=>fe(l)?l.value=f:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:m(()=>[e("div",null,[o(t(me),{value:u.value,"onUpdate:value":a[0]||(a[0]=f=>u.value=f),type:"line",animated:""},{default:m(()=>[o(t(V),{name:"General",tab:"General"},{tab:m(()=>[o(t(C),{class:"text-lg",icon:"ri:file-user-line"}),e("span",st,n(v.$t("setting.general")),1)]),default:m(()=>[e("div",nt,[o(Ee)])]),_:1}),o(t(V),{name:"Config",tab:"Config"},{tab:m(()=>[o(t(C),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",it,n(v.$t("setting.config")),1)]),default:m(()=>[o(tt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{ot as default};
